{"ast":null,"code":"var _jsxFileName = \"/Users/kenny/Desktop/2022Spring/ista330/Practicum/findnearbyplaces/src/components/search.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport apiAccess from '../communication/APIAccess';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Search = () => {\n  _s();\n\n  const [search_term, setSearchTerm] = useState('');\n  const [user_location, setUserLocation] = useState('');\n  const [maximum_results_to_return, setMaxResults] = useState(10);\n  const [radius_filter, setRadiusFilter] = useState('');\n  const [category_filter, setCategoryFilter] = useState('');\n  const [sort, setSort] = useState('');\n\n  let handleSearchTerm = event => {\n    let val = event.target.value;\n    setSearchTerm(val);\n  };\n\n  let handleMaximumResultsToReturn = event => {\n    let val = event.target.value;\n    setMaxResults(val);\n  };\n\n  let handleRadiusFilter = event => {\n    let val = event.target.value;\n    setRadiusFilter(val);\n  };\n\n  let handleCategoryFilter = event => {\n    let val = event.target.value;\n    setCategoryFilter(val);\n  };\n\n  let handleSort = event => {\n    let val = event.target.value;\n    setSort(val);\n  };\n\n  let handleSubmit = event => {\n    event.preventDefault();\n\n    if (!user_location) {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          //console.log(position.coords.latitude, position.coords.longitude);\n          setUserLocation(String(position.coords.latitude) + ',' + String(position.coords.longitude));\n        });\n      }\n    }\n\n    apiAccess.search(search_term, user_location, radius_filter, maximum_results_to_return, category_filter, sort).then(x => {\n      console.log('from search: ', x);\n      alert('Search complete');\n    }).catch(e => {\n      console.log(e);\n      alert('An error occurred while getting search');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchField\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"searchForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row required\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"search_term\",\n              id: \"search_termLabel\",\n              children: \"Search Term: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"search_term\",\n              id: \"search_term\",\n              value: search_term,\n              onChange: handleSearchTerm\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"maximum_results_to_return\",\n              id: \"maximum_results_to_returnLabel\",\n              children: \"Number of results: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"maximum_results_to_return\",\n              id: \"maximum_results_to_return\",\n              value: maximum_results_to_return,\n              onChange: handleMaximumResultsToReturn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row optional\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"radius_filter\",\n              id: \"radius_filterLabel\",\n              children: \"Radius (optional): \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"radius_filter\",\n              id: \"radius_filter\",\n              value: radius_filter,\n              onChange: handleRadiusFilter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"category_filter\",\n              id: \"category_filterLabel\",\n              children: \"Category (optional): \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"category_filter\",\n              id: \"category_filter\",\n              value: category_filter,\n              onChange: handleCategoryFilter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"sort\",\n              id: \"sortLabel\",\n              children: \"Sort by (optional): \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"sort\",\n              id: \"sort\",\n              value: sort,\n              onChange: handleSort\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              id: \"submitRegister\",\n              size: \"lg\",\n              variant: \"primary\",\n              onClick: handleSubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchResult\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Search, \"X83y8HVtHLRXiuRstqSOBAAtA/M=\");\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useEffect","useState","NavLink","useNavigate","Button","apiAccess","Search","search_term","setSearchTerm","user_location","setUserLocation","maximum_results_to_return","setMaxResults","radius_filter","setRadiusFilter","category_filter","setCategoryFilter","sort","setSort","handleSearchTerm","event","val","target","value","handleMaximumResultsToReturn","handleRadiusFilter","handleCategoryFilter","handleSort","handleSubmit","preventDefault","navigator","geolocation","getCurrentPosition","position","String","coords","latitude","longitude","search","then","x","console","log","alert","catch","e"],"sources":["/Users/kenny/Desktop/2022Spring/ista330/Practicum/findnearbyplaces/src/components/search.js"],"sourcesContent":["import {React, useEffect, useState} from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport apiAccess from '../communication/APIAccess';\n\nconst Search = () => {\n    const [search_term, setSearchTerm] = useState('');\n    const [user_location, setUserLocation] = useState('');\n    const [maximum_results_to_return, setMaxResults] = useState(10);\n    const [radius_filter, setRadiusFilter] = useState('');\n    const [category_filter, setCategoryFilter] = useState('');\n    const [sort, setSort] = useState('');\n\n    \n\n    let handleSearchTerm = (event) => {\n        let val = event.target.value;\n        setSearchTerm(val);\n    };\n\n    let handleMaximumResultsToReturn = (event) => {\n        let val = event.target.value;\n        setMaxResults(val);\n    };\n\n    let handleRadiusFilter = (event) => {\n        let val = event.target.value;\n        setRadiusFilter(val);\n    };\n\n    let handleCategoryFilter = (event) => {\n        let val = event.target.value;\n        setCategoryFilter(val);\n    };\n\n    let handleSort = (event) => {\n        let val = event.target.value;\n        setSort(val);\n    };\n\n    let handleSubmit = (event) => {\n        event.preventDefault();\n        if (!user_location) {\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition((position) => {\n                    //console.log(position.coords.latitude, position.coords.longitude);\n                    setUserLocation(String(position.coords.latitude) + ',' + String(position.coords.longitude));\n                });\n            }\n        }\n        apiAccess.search(search_term, user_location, radius_filter, maximum_results_to_return, category_filter, sort)\n        .then(x => {\n            console.log('from search: ', x);\n            alert('Search complete');\n        })\n        .catch(e => {\n            console.log(e);\n            alert('An error occurred while getting search');\n        })\n    };\n\n    return (\n        <div className='container'>\n            <div className='searchField'>\n                <form id='searchForm'>\n                    <div className='row'>\n                        <h1>Search</h1>\n                    </div>\n                    <div className='row required'>\n                        <div className='row'>\n                            <label htmlFor='search_term' id='search_termLabel'>Search Term: </label>\n                            <input type='text' name='search_term' id='search_term' value={search_term} onChange={handleSearchTerm} />\n                        </div>\n                        {//need user location in submit\n                        }\n                        <div className='row'>\n                            <label htmlFor='maximum_results_to_return' id='maximum_results_to_returnLabel'>Number of results: </label>\n                            <input type='number' name='maximum_results_to_return' id='maximum_results_to_return' value={maximum_results_to_return} onChange={handleMaximumResultsToReturn} />\n                        </div>\n                    </div>\n                    <div className='row optional'>\n                        <div className='row'>\n                            <label htmlFor='radius_filter' id='radius_filterLabel'>Radius (optional): </label>\n                            <input type='text' name='radius_filter' id='radius_filter' value={radius_filter} onChange={handleRadiusFilter} />\n                        </div>\n                        <div className='row'>\n                            <label htmlFor='category_filter' id='category_filterLabel'>Category (optional): </label>\n                            <input type='text' name='category_filter' id='category_filter' value={category_filter} onChange={handleCategoryFilter} />\n                        </div>\n                        <div className='row'>\n                            <label htmlFor='sort' id='sortLabel'>Sort by (optional): </label>\n                            <input type='text' name='sort' id='sort' value={sort} onChange={handleSort} />\n                        </div>\n                        <div className='row'>\n                            <Button id='submitRegister' size='lg' variant='primary' onClick={handleSubmit}>Submit</Button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div className='searchResult'>\n                        {//table of search results if exist\n                        }\n            </div>\n        </div>\n    )\n};\n\nexport default Search;"],"mappings":";;;AAAA,SAAQA,KAAR,EAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,kBAArC;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACjB,MAAM,CAACC,WAAD,EAAcC,aAAd,IAA+BP,QAAQ,CAAC,EAAD,CAA7C;EACA,MAAM,CAACQ,aAAD,EAAgBC,eAAhB,IAAmCT,QAAQ,CAAC,EAAD,CAAjD;EACA,MAAM,CAACU,yBAAD,EAA4BC,aAA5B,IAA6CX,QAAQ,CAAC,EAAD,CAA3D;EACA,MAAM,CAACY,aAAD,EAAgBC,eAAhB,IAAmCb,QAAQ,CAAC,EAAD,CAAjD;EACA,MAAM,CAACc,eAAD,EAAkBC,iBAAlB,IAAuCf,QAAQ,CAAC,EAAD,CAArD;EACA,MAAM,CAACgB,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAAC,EAAD,CAAhC;;EAIA,IAAIkB,gBAAgB,GAAIC,KAAD,IAAW;IAC9B,IAAIC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAvB;IACAf,aAAa,CAACa,GAAD,CAAb;EACH,CAHD;;EAKA,IAAIG,4BAA4B,GAAIJ,KAAD,IAAW;IAC1C,IAAIC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAvB;IACAX,aAAa,CAACS,GAAD,CAAb;EACH,CAHD;;EAKA,IAAII,kBAAkB,GAAIL,KAAD,IAAW;IAChC,IAAIC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAvB;IACAT,eAAe,CAACO,GAAD,CAAf;EACH,CAHD;;EAKA,IAAIK,oBAAoB,GAAIN,KAAD,IAAW;IAClC,IAAIC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAvB;IACAP,iBAAiB,CAACK,GAAD,CAAjB;EACH,CAHD;;EAKA,IAAIM,UAAU,GAAIP,KAAD,IAAW;IACxB,IAAIC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAvB;IACAL,OAAO,CAACG,GAAD,CAAP;EACH,CAHD;;EAKA,IAAIO,YAAY,GAAIR,KAAD,IAAW;IAC1BA,KAAK,CAACS,cAAN;;IACA,IAAI,CAACpB,aAAL,EAAoB;MAChB,IAAIqB,SAAS,CAACC,WAAd,EAA2B;QACvBD,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAA0CC,QAAD,IAAc;UACnD;UACAvB,eAAe,CAACwB,MAAM,CAACD,QAAQ,CAACE,MAAT,CAAgBC,QAAjB,CAAN,GAAmC,GAAnC,GAAyCF,MAAM,CAACD,QAAQ,CAACE,MAAT,CAAgBE,SAAjB,CAAhD,CAAf;QACH,CAHD;MAIH;IACJ;;IACDhC,SAAS,CAACiC,MAAV,CAAiB/B,WAAjB,EAA8BE,aAA9B,EAA6CI,aAA7C,EAA4DF,yBAA5D,EAAuFI,eAAvF,EAAwGE,IAAxG,EACCsB,IADD,CACMC,CAAC,IAAI;MACPC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,CAA7B;MACAG,KAAK,CAAC,iBAAD,CAAL;IACH,CAJD,EAKCC,KALD,CAKOC,CAAC,IAAI;MACRJ,OAAO,CAACC,GAAR,CAAYG,CAAZ;MACAF,KAAK,CAAC,wCAAD,CAAL;IACH,CARD;EASH,CAnBD;;EAqBA,oBACI;IAAK,SAAS,EAAC,WAAf;IAAA,wBACI;MAAK,SAAS,EAAC,aAAf;MAAA,uBACI;QAAM,EAAE,EAAC,YAAT;QAAA,wBACI;UAAK,SAAS,EAAC,KAAf;UAAA,uBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAII;UAAK,SAAS,EAAC,cAAf;UAAA,wBACI;YAAK,SAAS,EAAC,KAAf;YAAA,wBACI;cAAO,OAAO,EAAC,aAAf;cAA6B,EAAE,EAAC,kBAAhC;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAO,IAAI,EAAC,MAAZ;cAAmB,IAAI,EAAC,aAAxB;cAAsC,EAAE,EAAC,aAAzC;cAAuD,KAAK,EAAEpC,WAA9D;cAA2E,QAAQ,EAAEY;YAArF;cAAA;cAAA;cAAA;YAAA,QAFJ;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAOI;YAAK,SAAS,EAAC,KAAf;YAAA,wBACI;cAAO,OAAO,EAAC,2BAAf;cAA2C,EAAE,EAAC,gCAA9C;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAO,IAAI,EAAC,QAAZ;cAAqB,IAAI,EAAC,2BAA1B;cAAsD,EAAE,EAAC,2BAAzD;cAAqF,KAAK,EAAER,yBAA5F;cAAuH,QAAQ,EAAEa;YAAjI;cAAA;cAAA;cAAA;YAAA,QAFJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAPJ;QAAA;UAAA;UAAA;UAAA;QAAA,QAJJ,eAgBI;UAAK,SAAS,EAAC,cAAf;UAAA,wBACI;YAAK,SAAS,EAAC,KAAf;YAAA,wBACI;cAAO,OAAO,EAAC,eAAf;cAA+B,EAAE,EAAC,oBAAlC;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAO,IAAI,EAAC,MAAZ;cAAmB,IAAI,EAAC,eAAxB;cAAwC,EAAE,EAAC,eAA3C;cAA2D,KAAK,EAAEX,aAAlE;cAAiF,QAAQ,EAAEY;YAA3F;cAAA;cAAA;cAAA;YAAA,QAFJ;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAKI;YAAK,SAAS,EAAC,KAAf;YAAA,wBACI;cAAO,OAAO,EAAC,iBAAf;cAAiC,EAAE,EAAC,sBAApC;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAO,IAAI,EAAC,MAAZ;cAAmB,IAAI,EAAC,iBAAxB;cAA0C,EAAE,EAAC,iBAA7C;cAA+D,KAAK,EAAEV,eAAtE;cAAuF,QAAQ,EAAEW;YAAjG;cAAA;cAAA;cAAA;YAAA,QAFJ;UAAA;YAAA;YAAA;YAAA;UAAA,QALJ,eASI;YAAK,SAAS,EAAC,KAAf;YAAA,wBACI;cAAO,OAAO,EAAC,MAAf;cAAsB,EAAE,EAAC,WAAzB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAO,IAAI,EAAC,MAAZ;cAAmB,IAAI,EAAC,MAAxB;cAA+B,EAAE,EAAC,MAAlC;cAAyC,KAAK,EAAET,IAAhD;cAAsD,QAAQ,EAAEU;YAAhE;cAAA;cAAA;cAAA;YAAA,QAFJ;UAAA;YAAA;YAAA;YAAA;UAAA,QATJ,eAaI;YAAK,SAAS,EAAC,KAAf;YAAA,uBACI,QAAC,MAAD;cAAQ,EAAE,EAAC,gBAAX;cAA4B,IAAI,EAAC,IAAjC;cAAsC,OAAO,EAAC,SAA9C;cAAwD,OAAO,EAAEC,YAAjE;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA,QAbJ;QAAA;UAAA;UAAA;UAAA;QAAA,QAhBJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAqCI;MAAK,SAAS,EAAC;IAAf;MAAA;MAAA;MAAA;IAAA,QArCJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA4CH,CApGD;;GAAMtB,M;;KAAAA,M;AAsGN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}