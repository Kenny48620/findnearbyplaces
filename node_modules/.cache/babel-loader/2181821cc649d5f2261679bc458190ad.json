{"ast":null,"code":"var _jsxFileName = \"/Users/kenny/Desktop/2022Spring/ista330/Practicum/findnearbyplaces/src/components/login.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Button from 'react-bootstrap/Button';\nimport apiAccess from '../communication/APIAccess';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = props => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  let navigate = useNavigate();\n\n  let handleEmail = event => {\n    setEmail(event.target.value);\n  };\n\n  let handlePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  let handleSubmit = event => {\n    //let search = usersData.users.find(db =>\n    //    (email.toLowerCase() == db.email.toLowerCase() || email.toLowerCase() == db.email.toLowerCase()) && password == db.password\n    //);\n    apiAccess.login(email, password).then(x => {\n      if (x.done) {\n        alert('Login successful');\n        props.userLoggedIn(email);\n        navigate('/index');\n      } else {\n        alert('Invalid credentials. Please try again.');\n      }\n    }).catch(e => {\n      console.log(e);\n      alert('Something went wrong.');\n    });\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"loginForm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      id: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"container\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          id: \"emailLabel\",\n          children: \"Email: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          id: \"email\",\n          autoComplete: \"email\",\n          value: email,\n          onChange: handleEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          id: \"passwordLabel\",\n          children: \"Password: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          id: \"password\",\n          autoComplete: \"current-password\",\n          value: password,\n          onChange: handlePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          id: \"submitLogin\",\n          size: \"lg\",\n          variant: \"primary\",\n          onClick: handleSubmit,\n          children: \"\\xA0Login\\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"OqFWRqNCJ3BNGyYdED5qKBGtbCw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","Button","apiAccess","Login","props","email","setEmail","password","setPassword","navigate","handleEmail","event","target","value","handlePassword","handleSubmit","login","then","x","done","alert","userLoggedIn","catch","e","console","log","preventDefault"],"sources":["/Users/kenny/Desktop/2022Spring/ista330/Practicum/findnearbyplaces/src/components/login.js"],"sourcesContent":["import { React, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Button from 'react-bootstrap/Button';\nimport apiAccess from '../communication/APIAccess';\n\n\nconst Login = (props) => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    let navigate = useNavigate();\n\n    let handleEmail = (event) => {\n        setEmail(event.target.value);\n    }\n    let handlePassword = (event) => {\n        setPassword(event.target.value);\n    }\n\n    let handleSubmit = (event) => {\n        //let search = usersData.users.find(db =>\n        //    (email.toLowerCase() == db.email.toLowerCase() || email.toLowerCase() == db.email.toLowerCase()) && password == db.password\n        //);\n        apiAccess.login(email, password)\n        .then(x => {\n            if (x.done) {\n                alert('Login successful');\n                props.userLoggedIn(email);\n                navigate('/index');\n            } else {\n                alert('Invalid credentials. Please try again.');\n            }\n        })\n        .catch(e => {\n            console.log(e);\n            alert('Something went wrong.');\n        });\n        event.preventDefault();\n    }\n\n    return (\n        <form id='loginForm'>\n            <div className='container' id='login'>\n                <h1 className='container' >Login</h1>\n                <div className='row'>\n                    <label htmlFor='email' id='emailLabel'>Email: </label>\n                </div>\n                <div className='row'>\n                    <input type='text' name='email' id='email' autoComplete='email' value={email} onChange={handleEmail}></input>\n                </div>\n                <div className='row'>\n                    <label htmlFor='password' id='passwordLabel'>Password: </label>\n                </div>\n                <div className='row'>\n                    <input type='password' name='password' id='password' autoComplete='current-password' value={password} onChange={handlePassword}></input>\n                </div>\n                <div className='row'>\n                    <Button id='submitLogin' size='lg' variant='primary' onClick={handleSubmit}>&nbsp;Login&nbsp;</Button>\n                </div>\n            </div>\n        </form>\n    )\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}