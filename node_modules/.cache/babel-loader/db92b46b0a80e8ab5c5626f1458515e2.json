{"ast":null,"code":"var _jsxFileName = \"/Users/kenny/Desktop/2022Spring/ista330/Practicum/findnearbyplaces/src/components/AddReview.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport apiAccess from './communication/apiAccess';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddReview = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [text, setText] = useState('');\n  const [rating, setRating] = useState('1');\n  const [image, setImage] = useState([]);\n  const navigate = useNavigate();\n\n  let onTextChanged = e => {\n    setText(e.target.value);\n  };\n\n  let onRatingChanged = e => {\n    setRating(e.target.value);\n  };\n\n  let onImageChanged = e => {\n    setImage(e.target.files[0]);\n  };\n\n  let OnSubmitHandler = e => {\n    e.preventDefault();\n    let formData = new FormData();\n    formData.append(\"file\", image);\n    apiAccess.addReview(id, text, rating).then(x => {\n      let review_id = x.id;\n      formData.append(\"review_id\", review_id);\n      apiAccess.saveImage(formData).then(x => {\n        alert('Added Successfully!');\n        console.log(x);\n      });\n    }).catch(e => {\n      console.log(e);\n      alert('Something went wrong!');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: OnSubmitHandler,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      controlId: \"formBasicPassword\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        required: true,\n        type: \"text\",\n        placeholder: \"Review\",\n        value: text,\n        onChange: onTextChanged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formBasicSelect\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        as: \"select\",\n        onChange: onRatingChanged,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1\",\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"2\",\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"3\",\n          children: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"4\",\n          children: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"5\",\n          children: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formFile\",\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Add Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        required: true,\n        type: \"file\",\n        onChange: onImageChanged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddReview, \"wL3NQYzOuibjKmvU5tkLOvrwXos=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = AddReview;\nexport default AddReview;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddReview\");","map":{"version":3,"names":["useEffect","useState","useNavigate","useParams","Form","Button","apiAccess","AddReview","id","text","setText","rating","setRating","image","setImage","navigate","onTextChanged","e","target","value","onRatingChanged","onImageChanged","files","OnSubmitHandler","preventDefault","formData","FormData","append","addReview","then","x","review_id","saveImage","alert","console","log","catch"],"sources":["/Users/kenny/Desktop/2022Spring/ista330/Practicum/findnearbyplaces/src/components/AddReview.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport apiAccess from './communication/apiAccess';\n\nconst AddReview = () => {\n    const { id } = useParams();\n    const [text, setText] = useState('');\n    const [rating, setRating] = useState('1');\n    const [image, setImage] = useState([]);\n    const navigate = useNavigate();\n\n    let onTextChanged = (e) => {\n        setText(e.target.value);\n    }\n\n    let onRatingChanged = (e) => {\n        setRating(e.target.value);\n    }\n\n    let onImageChanged = (e) => {\n        setImage(e.target.files[0]);\n    }\n\n    let OnSubmitHandler = (e) => {\n        e.preventDefault();\n        let formData = new FormData();\n        formData.append(\"file\", image);\n        \n       \n        \n        apiAccess.addReview(id,text,rating)\n        .then(x=>{\n            let review_id= x.id;\n            formData.append(\"review_id\", review_id);\n            apiAccess.saveImage(formData)\n            .then(x=>{ alert('Added Successfully!');\n            console.log(x)});\n        })\n        .catch(e => {\n            console.log(e);\n            alert('Something went wrong!');\n        });  \n        \n\n\n    }\n\n    return (\n        <Form onSubmit={OnSubmitHandler}>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                <Form.Label>Review</Form.Label>\n                <Form.Control required type=\"text\" placeholder=\"Review\" value={text} onChange={onTextChanged} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicSelect\">\n                <Form.Label>Rating</Form.Label>\n                <Form.Control as=\"select\" onChange={onRatingChanged}>\n                    <option value='1'>1</option>\n                    <option value='2'>2</option>\n                    <option value='3'>3</option>\n                    <option value='4'>4</option>\n                    <option value='5'>5</option>\n\n\n                </Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n                <Form.Label>Add Image</Form.Label>\n                <Form.Control required type=\"file\" onChange={onImageChanged} />\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"submit\" >\n                Submit\n            </Button >\n\n        </Form>\n\n\n    )\n\n}\n\nexport default AddReview;"],"mappings":"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"},"metadata":{},"sourceType":"module"}